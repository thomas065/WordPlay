<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Word Play: By Thomas Bell</title>

        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />

        <!-- Bootstrap Icons -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
        />

        <!-- Dev Icons -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css"
        />

        <!-- Prism CSS -->
        <link rel="stylesheet" href="/css/prism.css" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/site.css" />
        <link rel="stylesheet" href="/css/theme.css" />

        <!-- Favicon -->
        <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
    </head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="/index.html">
                    <img src="/img/neonLion.svg" height="45" alt="myLogo" />
                    Word Play
                </a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div
                    class="collapse navbar-collapse"
                    id="navbarSupportedContent"
                >
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" href="/index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/app.html">The App</a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link active"
                                aria-current="page"
                                href="/code.html"
                                >The Code</a
                            >
                        </li>
                        <li class="nav-item">
                            <!-- CHANGE ME TO THE REAL REPO LINK -->
                            <a
                                class="nav-link"
                                href="https://github.com/thomas065/WordPlay"
                                target="_blank"
                                rel="noopener"
                            >
                                The Repo
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                href="https://thomasjbell.netlify.app/"
                                target="_blank"
                                rel="noopener"
                            >
                                About Me
                            </a>
                        </li>
                        <li class="nav-item">
                            <!-- CHANGE ME TO THE REAL BLOG POST LINK -->
                            <!-- NOTE: it would be a great idea to post about each project and link it here-->
                            <a class="nav-link" href="#"> Blog </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <main class="container py-3">
            <h1 class="border-bottom border-2 border-dark">The Code</h1>
            <div class="row">
                <div
                    class="col-12 col-lg-8 synapse overflow-y-auto overflow-x-hidden"
                >
                    <pre class="line-numbers">
                        <code class="language-js">
                            // get the user's message to reverse
                            function getValues() {

                                // get the text input from the page
                                let message = document.getElementById('userInput').value;

                                if (message.length == 0) {
                                    Swal.fire ({
                                        icon: 'error',
                                        backdrop: false,
                                        title: 'Oops!',
                                        text: 'Please enter a message to check for a palindrome'
                                    });
                                } else {
                                    let isPalindrome = checkForPalindrom(message);

                                    displayResults(isPalindrome);
                                }
                            }

                            // reverse the message
                            function reverseMessage(userInput) { // if input = hello

                                let output = ''; // output = ['h', 'e', 'l', 'l', 'o']

                                for (let i = userInput.length-1; i >= 0; i--) {

                                    output += userInput[i]
                                }

                                // turns ['o','l','l','e','h'] into ['olleh']
                                return output;
                            }

                            function checkForPalindrom(input) {
                                let regex = /[^a-zA-Z0-9]/g;

                                input = input.replace(regex, '');
                                input = input.toLowerCase();

                                let reversed = reverseMessage(input)

                                if (reversed === input) {
                                    return true;
                                } else {
                                    return false;
                                }
                            }

                            // display the reverse message
                            function displayResults(isPalindrome) {
                                document.getElementById('alert').classList.remove('invisible', 'alert-danger', 'alert-success');
                            
                                if (isPalindrome == true) {
                                    document.getElementById('msg').textContent = `Nice Job, that's a palindrome`;
                                    document.getElementById('alert').classList.add('alert-success');
                                } else {
                                    document.getElementById('msg').textContent = `Oh no, that's not a palindrome`;
                                    document.getElementById('alert').classList.add('alert-danger');
                                }
                            }
                        </code>
                </pre>
                </div>
                <div class="col-12 col-lg-4">
                    <!-- Explain your code here -->
                    <p>
                        <code>getValues()</code> is the main function that gets
                        called when you click the "Check" button. It first
                        retrieves the user's input from the userInput element
                        and trims any extra spaces. If the input is empty, it
                        displays a Sweet Alert error message.
                    </p>
                    <p>
                        If there is input, it checks if it's a palindrome using
                        the <code>checkForPalindrome()</code>
                    </p>
                    <p>
                        <code>checkForPalindrome()</code> removes
                        non-alphanumeric characters and converts the word to
                        lowercase. Then, it compares the characters from the
                        start and end of the word to determine if it's a
                        palindrome. If not, it returns false; otherwise, it
                        returns true.
                    </p>
                    <p>
                        <code>displayResults()</code> is responsible for showing
                        the message to the user.
                    </p>
                </div>
            </div>
        </main>

        <footer class="py-3 container-fluid">
            <div class="container">
                <div
                    class="row align-items-center row-cols-1 row-cols-lg-3 gy-2"
                >
                    <div class="col text-center text-lg-start">
                        &copy;&nbsp;2023 Thomas Bell
                    </div>
                    <div class="col text-center">
                        <img
                            src="/img/whiteName.svg"
                            height="24"
                            alt="myLogo"
                        />
                    </div>
                    <div class="col text-center text-lg-end">
                        <a href="https://www.linkedin.com/in/thomasjbell065/"
                            ><i class="bi bi-linkedin"></i
                        ></a>
                        <a href="https://github.com/thomas065"
                            ><i class="bi bi-github"></i
                        ></a>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Bootstrap JS -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>

        <!-- Prism JS -->
        <script src="/js/prism.js"></script>
        <script>
            Prism.plugins.NormalizeWhitespace.setDefaults({
                'remove-trailing': true,
                'remove-indent': true,
                'left-trim': true,
                'right-trim': true,
            });
        </script>
    </body>
</html>
